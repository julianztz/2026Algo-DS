# LeetCode 211 å¿«é€Ÿå®ç°æŒ‡å—

## ä¸€ã€é¢˜ç›®æ¦‚è¿°

**LeetCode 211: Design Add and Search Words Data Structure**

è®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æ„ï¼š
1. `addWord(word)`: æ·»åŠ å­—ç¬¦ä¸²åˆ°æ•°æ®ç»“æ„ä¸­
2. `search(word)`: å¦‚æœæ•°æ®ç»“æ„ä¸­å­˜åœ¨ä¸ word åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œè¿”å› trueï¼›å¦åˆ™è¿”å› false
   - word å¯èƒ½åŒ…å«å­—ç¬¦ `.`ï¼Œè¡¨ç¤ºå¯ä»¥åŒ¹é…**ä»»æ„ä¸€ä¸ªå­—æ¯**

**ç¤ºä¾‹ï¼š**
```python
wd = WordDictionary()
wd.addWord("bad")
wd.addWord("dad")
wd.addWord("mad")
wd.search("pad")  # False
wd.search("bad")  # True
wd.search(".ad")  # True (åŒ¹é… "bad" æˆ– "dad")
wd.search("b..")  # True (åŒ¹é… "bad")
```

---

## äºŒã€é¢è¯•å‡ºç°é¢‘ç‡

### ğŸ“Š ç»Ÿè®¡æ•°æ®

- **é¢‘ç‡ç­‰çº§ï¼š** â­â­â­â­ (é«˜é¢‘ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å‚é¢è¯•ä¸­)
- **éš¾åº¦ç­‰çº§ï¼š** Medium
- **è€ƒå¯Ÿé‡ç‚¹ï¼š**
  - Trie æ•°æ®ç»“æ„çš„åŸºç¡€ç†è§£
  - é€’å½’å’Œå›æº¯çš„è¿ç”¨
  - é€šé…ç¬¦åŒ¹é…çš„å¤„ç†

### ğŸ¯ ä¸ºä»€ä¹ˆå¸¸è€ƒï¼Ÿ

1. **ç»¼åˆæ€§ï¼š** ç»“åˆæ•°æ®ç»“æ„ï¼ˆTrieï¼‰å’Œç®—æ³•ï¼ˆDFS/å›æº¯ï¼‰
2. **å®ç”¨æ€§ï¼š** æœç´¢å¼•æ“ã€IDE è‡ªåŠ¨è¡¥å…¨ç­‰å®é™…åœºæ™¯
3. **å˜ç§å¤šï¼š** å¯ä»¥è¡ç”Ÿå‡ºå¤šç§å˜ä½“é—®é¢˜

### ğŸ“ ç›¸å…³é¢˜ç›®

- **208. Implement Trie** - åŸºç¡€ç‰ˆæœ¬ï¼ˆå¿…é¡»å…ˆæŒæ¡ï¼‰
- **212. Word Search II** - äºŒç»´ç½‘æ ¼ + Trie
- **1032. Stream of Characters** - æµå¼å­—ç¬¦ä¸²åŒ¹é…
- **642. Design Search Autocomplete System** - è‡ªåŠ¨è¡¥å…¨ç³»ç»Ÿ

---

## ä¸‰ã€å¿«é€Ÿå®ç°æ­¥éª¤ï¼ˆ5 åˆ†é’Ÿæ¨¡æ¿ï¼‰

### Step 1: å®šä¹‰ TrieNodeï¼ˆ30ç§’ï¼‰

```python
class TrieNode:
    def __init__(self):
        self.children = {}      # å­èŠ‚ç‚¹å­—å…¸
        self.is_end = False     # æ ‡è®°æ˜¯å¦ä¸ºå•è¯ç»“å°¾
```

**è®°å¿†ç‚¹ï¼š** ä¸¤ä¸ªå±æ€§ï¼š`children` å’Œ `is_end`

---

### Step 2: å®ç° addWordï¼ˆ1åˆ†é’Ÿï¼‰

```python
def addWord(self, word: str) -> None:
    node = self.root
    for char in word:
        if char not in node.children:
            node.children[char] = TrieNode()  # åˆ›å»ºæ–°èŠ‚ç‚¹
        node = node.children[char]            # ç§»åŠ¨åˆ°å­èŠ‚ç‚¹
    node.is_end = True  # âœ… å…³é”®ï¼šæ ‡è®°å•è¯ç»“å°¾
```

**è®°å¿†ç‚¹ï¼š**
- é€å­—ç¬¦éå†
- ä¸å­˜åœ¨å°±åˆ›å»º
- æœ€åæ ‡è®° `is_end = True`

---

### Step 3: å®ç° searchï¼ˆæ ¸å¿ƒï¼Œ3åˆ†é’Ÿï¼‰

```python
def search(self, word: str) -> bool:
    def dfs(node: TrieNode, idx: int) -> bool:
        # 1. ç»ˆæ­¢æ¡ä»¶ï¼šéå†å®Œæ‰€æœ‰å­—ç¬¦
        if idx == len(word):
            return node.is_end  # âœ… å¿…é¡»æ£€æŸ¥æ˜¯å¦å®Œæ•´å•è¯
        
        char = word[idx]
        
        # 2. å¤„ç†é€šé…ç¬¦ '.'
        if char == '.':
            for child in node.children.values():
                if dfs(child, idx + 1):  # âœ… å°è¯•æ‰€æœ‰å­èŠ‚ç‚¹
                    return True
            return False
        
        # 3. å¤„ç†æ™®é€šå­—ç¬¦
        else:
            if char not in node.children:
                return False
            return dfs(node.children[char], idx + 1)
    
    return dfs(self.root, 0)
```

**è®°å¿†ç‚¹ï¼š**
- ç»ˆæ­¢æ¡ä»¶ï¼š`idx == len(word)` æ—¶æ£€æŸ¥ `node.is_end`
- é€šé…ç¬¦ï¼šéå†æ‰€æœ‰å­èŠ‚ç‚¹ï¼ˆå›æº¯æ€æƒ³ï¼‰
- æ™®é€šå­—ç¬¦ï¼šç›´æ¥åŒ¹é…

---

### å®Œæ•´ä»£ç æ¨¡æ¿

```python
class TrieNode:
    def __init__(self):
        self.children = {}
        self.is_end = False

class WordDictionary:
    def __init__(self):
        self.root = TrieNode()
    
    def addWord(self, word: str) -> None:
        node = self.root
        for char in word:
            if char not in node.children:
                node.children[char] = TrieNode()
            node = node.children[char]
        node.is_end = True
    
    def search(self, word: str) -> bool:
        def dfs(node: TrieNode, idx: int) -> bool:
            if idx == len(word):
                return node.is_end
            
            char = word[idx]
            if char == '.':
                for child in node.children.values():
                    if dfs(child, idx + 1):
                        return True
                return False
            else:
                if char not in node.children:
                    return False
                return dfs(node.children[char], idx + 1)
        
        return dfs(self.root, 0)
```

---

## å››ã€å…³äº trieSet å’Œ prefixCheck çš„è¯´æ˜

### ğŸ¤” æ˜¯å¦éœ€è¦ trieSetï¼Ÿ

**ç­”æ¡ˆï¼š** é€šå¸¸**ä¸éœ€è¦**ã€‚LeetCode 211 çš„æ ‡å‡†å®ç°ä¸­ï¼Œç›´æ¥ä½¿ç”¨ä¸€ä¸ª `WordDictionary` ç±»å³å¯ã€‚

**ä½†æ˜¯ï¼Œ** åœ¨æŸäº›å˜ä½“æˆ–å®é™…åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½éœ€è¦ï¼š

1. **trieSetï¼ˆTrie ä½œä¸º Setï¼‰**
   - å¦‚æœåªéœ€è¦æ£€æŸ¥å•è¯æ˜¯å¦å­˜åœ¨ï¼ˆä¸å­˜å‚¨å€¼ï¼‰
   - å½“å‰çš„å®ç°å·²ç»æ˜¯ trieSet çš„å½¢å¼

2. **TrieMapï¼ˆTrie ä½œä¸º Mapï¼‰**
   - å¦‚æœéœ€è¦å­˜å‚¨ key-value å¯¹
   - å¯ä»¥åœ¨ `TrieNode` ä¸­æ·»åŠ  `value` å­—æ®µ

```python
# TrieMap ç‰ˆæœ¬ï¼ˆå¦‚æœéœ€è¦å­˜å‚¨å€¼ï¼‰
class TrieNode:
    def __init__(self):
        self.children = {}
        self.is_end = False
        self.value = None  # å­˜å‚¨å¯¹åº”çš„å€¼

class TrieMap:
    def __init__(self):
        self.root = TrieNode()
    
    def put(self, key: str, value) -> None:
        node = self.root
        for char in key:
            if char not in node.children:
                node.children[char] = TrieNode()
            node = node.children[char]
        node.is_end = True
        node.value = value  # å­˜å‚¨å€¼
    
    def get(self, key: str):
        node = self.root
        for char in key:
            if char not in node.children:
                return None
            node = node.children[char]
        return node.value if node.is_end else None
```

---

### ğŸ” prefixCheck å‡½æ•°

**æ˜¯å¦éœ€è¦å•ç‹¬çš„ prefixCheckï¼Ÿ**

å¯¹äº LC211ï¼Œ**ä¸éœ€è¦**ã€‚`search` æ–¹æ³•æœ¬èº«å°±åŒ…å«äº†å‰ç¼€æ£€æŸ¥çš„é€»è¾‘ã€‚

**ä½†æ˜¯ï¼Œ** å¦‚æœé¢˜ç›®è¦æ±‚å®ç° `startsWith(prefix)` æ–¹æ³•ï¼ˆç±»ä¼¼ LC208ï¼‰ï¼Œå¯ä»¥è¿™æ ·å®ç°ï¼š

```python
def startsWith(self, prefix: str) -> bool:
    """æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä»¥ prefix å¼€å¤´çš„å•è¯"""
    node = self.root
    for char in prefix:
        if char not in node.children:
            return False
        node = node.children[char]
    return True  # âœ… ä¸éœ€è¦æ£€æŸ¥ is_end
```

**å¦‚æœå‰ç¼€ä¹Ÿæ”¯æŒé€šé…ç¬¦ï¼š**

```python
def startsWith(self, prefix: str) -> bool:
    """æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä»¥ prefix å¼€å¤´çš„å•è¯ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰"""
    def dfs(node: TrieNode, idx: int) -> bool:
        if idx == len(prefix):
            return True  # âœ… å‰ç¼€åŒ¹é…æˆåŠŸï¼ˆä¸éœ€è¦æ£€æŸ¥ is_endï¼‰
        
        char = prefix[idx]
        if char == '.':
            for child in node.children.values():
                if dfs(child, idx + 1):
                    return True
            return False
        else:
            if char not in node.children:
                return False
            return dfs(node.children[char], idx + 1)
    
    return dfs(self.root, 0)
```

---

## äº”ã€é¢è¯•ä¸­çš„å®ç°æµç¨‹ï¼ˆæ¨èé¡ºåºï¼‰

### ğŸ¯ 3 åˆ†é’Ÿå¿«é€Ÿå®ç°æ³•

```
1. å®šä¹‰ TrieNode (30ç§’)
   â””â”€ self.children = {}
   â””â”€ self.is_end = False

2. å®ç° __init__ (10ç§’)
   â””â”€ self.root = TrieNode()

3. å®ç° addWord (1åˆ†é’Ÿ)
   â””â”€ é€å­—ç¬¦éå†
   â””â”€ åˆ›å»ºèŠ‚ç‚¹
   â””â”€ æ ‡è®° is_end

4. å®ç° search (1.5åˆ†é’Ÿ)
   â””â”€ DFS è¾…åŠ©å‡½æ•°
   â””â”€ ç»ˆæ­¢æ¡ä»¶æ£€æŸ¥ is_end
   â””â”€ é€šé…ç¬¦å¤„ç†ï¼ˆéå†æ‰€æœ‰å­èŠ‚ç‚¹ï¼‰
   â””â”€ æ™®é€šå­—ç¬¦åŒ¹é…
```

### ğŸ’¡ é¢è¯•æ—¶çš„è¡¨è¾¾æŠ€å·§

1. **å…ˆè¯´æ€è·¯ï¼Œå†å†™ä»£ç **
   ```
   "è¿™ä¸ªé¢˜ç›®éœ€è¦æ”¯æŒé€šé…ç¬¦åŒ¹é…ï¼Œæ‰€ä»¥æ™®é€šçš„ Trie æŸ¥æ‰¾ä¸å¤Ÿã€‚
   æˆ‘éœ€è¦ç”¨ DFS é€’å½’å¤„ç†ï¼Œé‡åˆ° '.' æ—¶å°è¯•æ‰€æœ‰å­èŠ‚ç‚¹ã€‚"
   ```

2. **è¾¹å†™è¾¹è§£é‡Šå…³é”®ç‚¹**
   ```
   "è¿™é‡Œéœ€è¦æ£€æŸ¥ is_endï¼Œå› ä¸º search è¦æ‰¾å®Œæ•´å•è¯ï¼Œä¸åªæ˜¯å‰ç¼€ã€‚"
   "é‡åˆ° '.' æ—¶ï¼Œæˆ‘éœ€è¦å°è¯•æ‰€æœ‰å¯èƒ½çš„å­èŠ‚ç‚¹ï¼Œè¿™æ˜¯å›æº¯çš„æ€è·¯ã€‚"
   ```

3. **ä¸»åŠ¨æå‡ºä¼˜åŒ–**
   ```
   "å¯ä»¥ç”¨æ•°ç»„ä»£æ›¿å­—å…¸æ¥ä¼˜åŒ–ï¼ˆå¦‚æœåªæœ‰å°å†™å­—æ¯ï¼‰ã€‚
   ä¹Ÿå¯ä»¥è€ƒè™‘ç”¨è¿­ä»£ä»£æ›¿é€’å½’æ¥é¿å…æ ˆæº¢å‡ºï¼ˆå¯¹äºå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼‰ã€‚"
   ```

---

## å…­ã€å¸¸è§é”™è¯¯å’Œé™·é˜±

### âŒ é”™è¯¯ 1: å¿˜è®°æ£€æŸ¥ is_end

```python
# âŒ é”™è¯¯
def search(self, word: str) -> bool:
    def dfs(node: TrieNode, idx: int) -> bool:
        if idx == len(word):
            return True  # âŒ é”™è¯¯ï¼å¯èƒ½åªæ˜¯å‰ç¼€ï¼Œä¸æ˜¯å®Œæ•´å•è¯
        # ...

# âœ… æ­£ç¡®
def search(self, word: str) -> bool:
    def dfs(node: TrieNode, idx: int) -> bool:
        if idx == len(word):
            return node.is_end  # âœ… å¿…é¡»æ£€æŸ¥å®Œæ•´å•è¯
        # ...
```

### âŒ é”™è¯¯ 2: é€šé…ç¬¦å¤„ç†ä¸å½“

```python
# âŒ é”™è¯¯ï¼šåªå°è¯•ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹
if char == '.':
    if node.children:
        first_child = next(iter(node.children.values()))
        return dfs(first_child, idx + 1)
    return False

# âœ… æ­£ç¡®ï¼šå°è¯•æ‰€æœ‰å­èŠ‚ç‚¹
if char == '.':
    for child in node.children.values():
        if dfs(child, idx + 1):
            return True
    return False
```

### âŒ é”™è¯¯ 3: ç©ºå­—ç¬¦ä¸²å¤„ç†

```python
# âŒ å¯èƒ½çš„é—®é¢˜
def search(self, word: str) -> bool:
    if not word:  # å¦‚æœ word æ˜¯ç©ºå­—ç¬¦ä¸²
        return self.root.is_end  # éœ€è¦æ£€æŸ¥æ ¹èŠ‚ç‚¹
    # ...

# âœ… å¤„ç†æ–¹å¼ï¼ˆLC211 é€šå¸¸ä¸éœ€è¦ï¼Œä½†è¦æ³¨æ„ï¼‰
def search(self, word: str) -> bool:
    def dfs(node: TrieNode, idx: int) -> bool:
        if idx == len(word):
            return node.is_end
        # ...
    return dfs(self.root, 0)  # ç©ºå­—ç¬¦ä¸²ä¼šç›´æ¥è¿›å…¥ç»ˆæ­¢æ¡ä»¶
```

---

## ä¸ƒã€ä¼˜åŒ–ç‰ˆæœ¬ï¼ˆé¢è¯•åŠ åˆ†é¡¹ï¼‰

### ä¼˜åŒ– 1: ä½¿ç”¨æ•°ç»„ä»£æ›¿å­—å…¸ï¼ˆä»…å°å†™å­—æ¯ï¼‰

```python
class TrieNode:
    def __init__(self):
        self.children = [None] * 26  # 26 ä¸ªå°å†™å­—æ¯
        self.is_end = False

class WordDictionary:
    def __init__(self):
        self.root = TrieNode()
    
    def _char_to_index(self, char: str) -> int:
        return ord(char) - ord('a')
    
    def addWord(self, word: str) -> None:
        node = self.root
        for char in word:
            idx = self._char_to_index(char)
            if node.children[idx] is None:
                node.children[idx] = TrieNode()
            node = node.children[idx]
        node.is_end = True
    
    def search(self, word: str) -> bool:
        def dfs(node: TrieNode, idx: int) -> bool:
            if idx == len(word):
                return node.is_end
            
            char = word[idx]
            if char == '.':
                for child in node.children:
                    if child is not None and dfs(child, idx + 1):
                        return True
                return False
            else:
                child_idx = self._char_to_index(char)
                if node.children[child_idx] is None:
                    return False
                return dfs(node.children[child_idx], idx + 1)
        
        return dfs(self.root, 0)
```

**ä¼˜ç‚¹ï¼š**
- âœ… è®¿é—®æ›´å¿«ï¼ˆæ•°ç»„ç´¢å¼• vs å­—å…¸æŸ¥æ‰¾ï¼‰
- âœ… å†…å­˜è¿ç»­ï¼Œç¼“å­˜å‹å¥½
- âœ… æŒ‰å­—å…¸åºéå†æ—¶ä¸éœ€è¦æ’åº

---

### ä¼˜åŒ– 2: è¿­ä»£ç‰ˆæœ¬ï¼ˆé¿å…æ ˆæº¢å‡ºï¼‰

```python
def search(self, word: str) -> bool:
    """è¿­ä»£ç‰ˆæœ¬ï¼Œé¿å…æ·±åº¦é€’å½’"""
    stack = [(self.root, 0)]
    
    while stack:
        node, idx = stack.pop()
        
        if idx == len(word):
            if node.is_end:
                return True
            continue
        
        char = word[idx]
        if char == '.':
            # å°†æ‰€æœ‰å­èŠ‚ç‚¹åŠ å…¥æ ˆ
            for child in node.children.values():
                stack.append((child, idx + 1))
        else:
            if char in node.children:
                stack.append((node.children[char], idx + 1))
    
    return False
```

**é€‚ç”¨åœºæ™¯ï¼š** å­—ç¬¦ä¸²å¾ˆé•¿ï¼Œé€’å½’å¯èƒ½å¯¼è‡´æ ˆæº¢å‡º

---

### ä¼˜åŒ– 3: æå‰å‰ªæï¼ˆå¦‚æœåªè¦æ±‚æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…ï¼‰

```python
def search(self, word: str) -> bool:
    def dfs(node: TrieNode, idx: int) -> bool:
        if idx == len(word):
            return node.is_end
        
        char = word[idx]
        if char == '.':
            # æå‰è¿”å›ï¼Œæ‰¾åˆ°å°±ç«‹å³è¿”å›
            for child in node.children.values():
                if dfs(child, idx + 1):  # âœ… æ‰¾åˆ°å°±ç«‹å³è¿”å›
                    return True
            return False
        # ...
```

**æ³¨æ„ï¼š** å½“å‰å®ç°å·²ç»åšäº†æå‰è¿”å›ï¼Œè¿™æ˜¯æœ€ä¼˜çš„ã€‚

---

## å…«ã€å®Œæ•´æµ‹è¯•ç”¨ä¾‹

```python
# æµ‹è¯•ä»£ç 
wd = WordDictionary()

# æµ‹è¯• 1: åŸºæœ¬æ’å…¥å’ŒæŸ¥æ‰¾
wd.addWord("bad")
wd.addWord("dad")
wd.addWord("mad")
assert wd.search("pad") == False
assert wd.search("bad") == True
assert wd.search(".ad") == True   # åŒ¹é… "bad" æˆ– "dad"
assert wd.search("b..") == True   # åŒ¹é… "bad"

# æµ‹è¯• 2: å¤šä¸ªé€šé…ç¬¦
wd.addWord("code")
assert wd.search("c.de") == True  # åŒ¹é… "code"

# æµ‹è¯• 3: æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯é€šé…ç¬¦
wd.addWord("a")
assert wd.search(".") == True     # åŒ¹é… "a"

# æµ‹è¯• 4: ä¸å­˜åœ¨çš„å•è¯
assert wd.search("xyz") == False

# æµ‹è¯• 5: å‰ç¼€å­˜åœ¨ä½†ä¸æ˜¯å®Œæ•´å•è¯
wd.addWord("apple")
assert wd.search("app") == False  # "app" æ˜¯å‰ç¼€ä½†ä¸æ˜¯å•è¯
assert wd.search("apple") == True

print("All tests passed!")
```

---

## ä¹ã€è®°å¿†å£è¯€ï¼ˆå¿«é€Ÿå›å¿†ï¼‰

```
Trie èŠ‚ç‚¹ä¸¤ä¸ªå±æ€§ï¼šchildren å’Œ is_end
æ’å…¥é€å­—ç¬¦éå†ï¼Œæœ€åæ ‡è®° is_end
æœç´¢é‡åˆ°é€šé…ç¬¦ï¼Œéå†æ‰€æœ‰å­èŠ‚ç‚¹ï¼ˆå›æº¯ï¼‰
ç»ˆæ­¢æ¡ä»¶æ£€æŸ¥ is_endï¼ŒåŒºåˆ†å®Œæ•´å•è¯å’Œå‰ç¼€
```

**ç®€åŒ–ç‰ˆï¼š**
```
æ’å…¥ï¼šéå† â†’ åˆ›å»º â†’ æ ‡è®°
æœç´¢ï¼šDFS â†’ é€šé…ç¬¦å›æº¯ â†’ æ£€æŸ¥ is_end
```

---

## åã€é¢è¯•å‡†å¤‡æ¸…å•

### âœ… å¿…é¡»æŒæ¡

- [ ] åŸºç¡€ Trie å®ç°ï¼ˆLC208ï¼‰
- [ ] é€šé…ç¬¦æœç´¢ï¼ˆLC211ï¼‰
- [ ] DFS/å›æº¯çš„åº”ç”¨
- [ ] æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦åˆ†æ

### âœ… åŠ åˆ†é¡¹

- [ ] æ•°ç»„ä¼˜åŒ–ç‰ˆæœ¬
- [ ] è¿­ä»£ç‰ˆæœ¬
- [ ] å¤„ç†è¾¹ç•Œæƒ…å†µï¼ˆç©ºå­—ç¬¦ä¸²ã€ç‰¹æ®Šå­—ç¬¦ç­‰ï¼‰
- [ ] èƒ½è¯´å‡ºå®é™…åº”ç”¨åœºæ™¯

### âœ… ç›¸å…³é¢˜ç›®ç»ƒä¹ 

- [ ] 208. Implement Trie (Prefix Tree) - **å¿…åš**
- [ ] 211. Design Add and Search Words - **å¿…åš**
- [ ] 212. Word Search II
- [ ] 1268. Search Suggestions System

---

## åä¸€ã€æ€»ç»“

### æ ¸å¿ƒè¦ç‚¹

1. **æ•°æ®ç»“æ„ï¼š** TrieNode åŒ…å« `children` å’Œ `is_end`
2. **æ’å…¥ï¼š** é€å­—ç¬¦éå†ï¼Œæœ€åæ ‡è®° `is_end = True`
3. **æœç´¢ï¼š** DFS é€’å½’ï¼Œé€šé…ç¬¦ `.` éœ€è¦å°è¯•æ‰€æœ‰å­èŠ‚ç‚¹
4. **å…³é”®ï¼š** ç»ˆæ­¢æ—¶æ£€æŸ¥ `is_end`ï¼ˆåŒºåˆ†å®Œæ•´å•è¯å’Œå‰ç¼€ï¼‰

### å¿«é€Ÿå®ç°æ¨¡æ¿ï¼ˆå¤åˆ¶ç²˜è´´ç‰ˆï¼‰

```python
class TrieNode:
    def __init__(self):
        self.children = {}
        self.is_end = False

class WordDictionary:
    def __init__(self):
        self.root = TrieNode()
    
    def addWord(self, word: str) -> None:
        node = self.root
        for char in word:
            if char not in node.children:
                node.children[char] = TrieNode()
            node = node.children[char]
        node.is_end = True
    
    def search(self, word: str) -> bool:
        def dfs(node: TrieNode, idx: int) -> bool:
            if idx == len(word):
                return node.is_end
            if word[idx] == '.':
                return any(dfs(child, idx + 1) for child in node.children.values())
            if word[idx] not in node.children:
                return False
            return dfs(node.children[word[idx]], idx + 1)
        return dfs(self.root, 0)
```

### é¢è¯•å»ºè®®

1. **å…ˆè¯´æ€è·¯ï¼š** "ç”¨ Trie å­˜å‚¨ï¼ŒDFS å¤„ç†é€šé…ç¬¦"
2. **è¾¹å†™è¾¹è§£é‡Šï¼š** å¼ºè°ƒå…³é”®ç‚¹ï¼ˆis_endã€å›æº¯ï¼‰
3. **ä¸»åŠ¨ä¼˜åŒ–ï¼š** æåˆ°æ•°ç»„ä¼˜åŒ–ã€è¿­ä»£ç‰ˆæœ¬ç­‰
4. **æµ‹è¯•ç”¨ä¾‹ï¼š** ä¸»åŠ¨æå‡ºæµ‹è¯•è¾¹ç•Œæƒ…å†µ

---

**è®°ä½ï¼š** LC211 æ˜¯é«˜é¢‘é¢˜ï¼ŒæŒæ¡æ¨¡æ¿å 3-5 åˆ†é’Ÿå°±èƒ½å®ç°ï¼
















